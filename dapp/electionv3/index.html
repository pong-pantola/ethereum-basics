<html>

<head>
<title>Election System V3</title>

<script src="./deployment.js"></script> 
<script type='text/javascript'>

function vote(){
  var candidate = 0;
  if (document.getElementById('rCandidate').checked)
    candidate = 1;
  else
  if (document.getElementById('gCandidate').checked)
    candidate = 2;
  else
  if (document.getElementById('bCandidate').checked)
    candidate = 3;

  contract.vote(candidate, {from: web3.eth.accounts[0]});
}

function viewUnofficialResult(){
  alert("UNOFFICIAL RESULT:\n"+
        "Mr. Red: "+contract.rVoteCount()+"\n"+
        "Mr. Green: "+contract.gVoteCount()+"\n"+
        "Mr. Blue: "+contract.bVoteCount()+"\n");
}

function viewOfficialResult(){
  contract.requestResult({from: web3.eth.accounts[0]});
}

</script>

</head>

<body>
  <h3> Election System</h3>

  Candidates: <br>
  <input type="radio" name="candidate" id="rCandidate" checked> Mr. Red (Candidate #1) <br>
  <input type="radio" name="candidate" id="gCandidate"> Mr. Green (Candidate #2) <br>
  <input type="radio" name="candidate" id="bCandidate"> Mr. Blue (Candidate #3) <br>

  <br>

  <button onclick='vote()'>Vote</button>
  <button onclick='viewUnofficialResult()'>View Unofficial Result</button>
  <button onclick='viewOfficialResult()'>View Official Result</button>

</body>

</html>
